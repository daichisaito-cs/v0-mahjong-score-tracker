{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // Server Component context - ignore\n        }\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,sXAAO;IAEjC,OAAO,IAAA,sXAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,oCAAoC;gBACtC;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8SAAO,EAAC,IAAA,wQAAI,EAAC;AACtB"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,4TAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,sXAAI,GAAG;IAE9B,qBACE,0dAAC;QACC,aAAU;QACV,WAAW,IAAA,4LAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/league-create-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LeagueCreateForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call LeagueCreateForm() from the server but LeagueCreateForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/league-create-form.tsx <module evaluation>\",\n    \"LeagueCreateForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,ofAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,wHACA","ignoreList":[0]}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/league-create-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LeagueCreateForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call LeagueCreateForm() from the server but LeagueCreateForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/league-create-form.tsx\",\n    \"LeagueCreateForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,ofAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,oGACA","ignoreList":[0]}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Avatar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx <module evaluation>\",\n    \"Avatar\",\n);\nexport const AvatarFallback = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx <module evaluation>\",\n    \"AvatarFallback\",\n);\nexport const AvatarImage = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx <module evaluation>\",\n    \"AvatarImage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,ofAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,+GACA;AAEG,MAAM,iBAAiB,IAAA,ofAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,+GACA;AAEG,MAAM,cAAc,IAAA,ofAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,+GACA","ignoreList":[0]}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Avatar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx\",\n    \"Avatar\",\n);\nexport const AvatarFallback = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx\",\n    \"AvatarFallback\",\n);\nexport const AvatarImage = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/ui/avatar.tsx\",\n    \"AvatarImage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,ofAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,2FACA;AAEG,MAAM,iBAAiB,IAAA,ofAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2FACA;AAEG,MAAM,cAAc,IAAA,ofAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,2FACA","ignoreList":[0]}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/league-member-add.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LeagueMemberAdd = registerClientReference(\n    function() { throw new Error(\"Attempted to call LeagueMemberAdd() from the server but LeagueMemberAdd is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/league-member-add.tsx <module evaluation>\",\n    \"LeagueMemberAdd\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,kBAAkB,IAAA,ofAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,uHACA","ignoreList":[0]}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/components/league-member-add.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LeagueMemberAdd = registerClientReference(\n    function() { throw new Error(\"Attempted to call LeagueMemberAdd() from the server but LeagueMemberAdd is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/insane/workspace/playground/v0-mahjong-score-tracker/components/league-member-add.tsx\",\n    \"LeagueMemberAdd\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,kBAAkB,IAAA,ofAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,mGACA","ignoreList":[0]}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///Users/daichi/insane/workspace/playground/v0-mahjong-score-tracker/app/%28authenticated%29/leagues/%5Bid%5D/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\"\nimport { redirect, notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { ArrowLeft, Plus, Trophy, Settings } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { LeagueCreateForm } from \"@/components/league-create-form\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { LeagueMemberAdd } from \"@/components/league-member-add\"\n\nfunction isValidUUID(str: string): boolean {\n  const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i\n  return uuidRegex.test(str)\n}\n\nconst EPSILON = 1e-6\n\nfunction addRankLabels<T>(items: T[], getValue: (item: T) => number, epsilon = EPSILON): Array<T & { rankLabel: number }> {\n  let lastValue: number | null = null\n  let lastRank = 0\n  let position = 0\n\n  return items.map((item) => {\n    position += 1\n    const value = getValue(item)\n    const isTie = lastValue !== null && Math.abs(value - lastValue) < epsilon\n\n    if (!isTie) {\n      lastRank = position\n      lastValue = value\n    }\n\n    return { ...item, rankLabel: lastRank }\n  })\n}\n\nexport default async function LeagueDetailPage({\n  params,\n}: {\n  params: Promise<{ id: string }>\n}) {\n  const { id } = await params\n  const supabase = await createClient()\n\n  const { data: userData, error } = await supabase.auth.getUser()\n\n  if (error || !userData?.user) {\n    redirect(\"/auth/login\")\n  }\n\n  if (id === \"new\") {\n    return (\n      <div className=\"space-y-6 pb-20 md:pb-0 max-w-xl mx-auto\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">リーグを作成</h1>\n          <p className=\"text-muted-foreground\">新しいリーグの設定を入力してください</p>\n        </div>\n        <LeagueCreateForm userId={userData.user.id} />\n      </div>\n    )\n  }\n\n  if (!isValidUUID(id)) {\n    notFound()\n  }\n\n  // リーグデータ取得\n  const { data: league } = await supabase.from(\"leagues\").select(\"*\").eq(\"id\", id).single()\n\n  if (!league) {\n    notFound()\n  }\n\n  const { data: members } = await supabase\n    .from(\"league_members\")\n    .select(\"user_id, profiles(id, display_name, friend_code, avatar_url)\")\n    .eq(\"league_id\", id)\n\n  const memberIds = members?.map((m) => m.user_id) || []\n  const existingMemberIds = Array.from(new Set([...memberIds, league.owner_id]))\n\n  let ownerProfile: { id: string; display_name: string | null; avatar_url: string | null } | null = null\n  if (!memberIds.includes(league.owner_id)) {\n    const { data: profileRow } = await supabase\n      .from(\"profiles\")\n      .select(\"id, display_name, avatar_url\")\n      .eq(\"id\", league.owner_id)\n      .maybeSingle()\n    ownerProfile = profileRow || null\n  }\n\n  // リーグの対局を取得\n  const { data: games } = await supabase\n    .from(\"games\")\n    .select(`\n      *,\n      game_results (\n        *,\n        profiles (display_name, avatar_url)\n      )\n    `)\n    .eq(\"league_id\", id)\n    .order(\"played_at\", { ascending: false })\n\n  const { data: leagueRollups, error: leagueRollupsError } = await supabase\n    .from(\"league_user_game_rollups\")\n    .select(\"*\")\n    .eq(\"league_id\", id)\n  if (leagueRollupsError) {\n    // rollups がまだ導入されていない環境でもページが落ちないようにする\n    // eslint-disable-next-line no-console\n    console.warn(\"[v0] failed to load league_user_game_rollups:\", leagueRollupsError)\n  }\n\n  // ランキング集計\n  const playerStats: Record<\n    string,\n    {\n      odIndex: string\n      name: string\n      avatarUrl?: string | null\n      totalPoints: number\n      gameCount: number\n      rankSum: number\n      bestScore: number | null\n      fourthCount: number\n    }\n  > = {}\n\n  games?.forEach((game) => {\n    game.game_results?.forEach((result: any) => {\n      if (!result.user_id) return\n\n      const odIndex = result.user_id\n      const name = result.profiles?.display_name || result.player_name || \"Unknown\"\n      const avatarUrl = (result.profiles as any)?.avatar_url\n\n      if (!playerStats[odIndex]) {\n        playerStats[odIndex] = {\n          odIndex,\n          name,\n          avatarUrl,\n          totalPoints: 0,\n          gameCount: 0,\n          rankSum: 0,\n          bestScore: null,\n          fourthCount: 0,\n        }\n      }\n\n      playerStats[odIndex].totalPoints += Number(result.point)\n      playerStats[odIndex].gameCount += 1\n      playerStats[odIndex].rankSum += Number(result.rank)\n      const rawScoreNum = Number((result.raw_score ?? \"\").toString().replace(/,/g, \"\"))\n      if (Number.isFinite(rawScoreNum)) {\n        const currentBest = playerStats[odIndex].bestScore\n        playerStats[odIndex].bestScore =\n          currentBest === null || currentBest === undefined ? rawScoreNum : Math.max(currentBest as number, rawScoreNum)\n      }\n      if (playerStats[odIndex].fourthCount === undefined || playerStats[odIndex].fourthCount === null) {\n        playerStats[odIndex].fourthCount = 0\n      }\n      if (result.rank === 4) {\n        playerStats[odIndex].fourthCount += 1\n      }\n    })\n  })\n\n  ;(leagueRollups || []).forEach((row: any) => {\n    const userId = row.user_id as string | null\n    if (!userId) return\n\n    if (!playerStats[userId]) {\n      // 名前・アイコンは seedPlayers 側で補完される想定だが、念のため\n      playerStats[userId] = {\n        odIndex: userId,\n        name: \"Unknown\",\n        avatarUrl: null,\n        totalPoints: 0,\n        gameCount: 0,\n        rankSum: 0,\n        bestScore: null,\n        fourthCount: 0,\n      }\n    }\n\n    const rolledGameCount = Number(row.rolled_game_count ?? 0)\n    const rolledTotalPoints = Number(row.rolled_total_points ?? 0)\n    const rolledRankCounts = [\n      Number(row.rolled_rank1_count ?? 0),\n      Number(row.rolled_rank2_count ?? 0),\n      Number(row.rolled_rank3_count ?? 0),\n      Number(row.rolled_rank4_count ?? 0),\n    ]\n    const rolledRankSum =\n      rolledRankCounts[0] * 1 + rolledRankCounts[1] * 2 + rolledRankCounts[2] * 3 + rolledRankCounts[3] * 4\n    const rolledBest = row.rolled_best_raw_score ?? null\n\n    playerStats[userId].gameCount += rolledGameCount\n    playerStats[userId].totalPoints += rolledTotalPoints\n    playerStats[userId].rankSum += rolledRankSum\n    playerStats[userId].fourthCount += rolledRankCounts[3]\n    playerStats[userId].bestScore =\n      playerStats[userId].bestScore === null\n        ? rolledBest\n        : rolledBest === null\n          ? playerStats[userId].bestScore\n          : Math.max(playerStats[userId].bestScore as number, rolledBest as number)\n  })\n\n  // 参加メンバーを全員初期化（未対局でもランキングに表示）\n  const seedPlayers: Array<{ id: string; name: string; avatarUrl?: string | null }> = []\n  members?.forEach((member) => {\n    seedPlayers.push({\n      id: member.user_id,\n      name: (member.profiles as any)?.display_name || \"メンバー\",\n      avatarUrl: (member.profiles as any)?.avatar_url,\n    })\n  })\n  if (!memberIds.includes(league.owner_id)) {\n    seedPlayers.push({\n      id: league.owner_id,\n      name: ownerProfile?.display_name || \"オーナー\",\n      avatarUrl: ownerProfile?.avatar_url || null,\n    })\n  }\n\n  seedPlayers.forEach((p) => {\n    if (!playerStats[p.id]) {\n      playerStats[p.id] = {\n        odIndex: p.id,\n        name: p.name,\n        avatarUrl: p.avatarUrl,\n        totalPoints: 0,\n        gameCount: 0,\n        rankSum: 0,\n        bestScore: null,\n        fourthCount: 0,\n      }\n    } else {\n      // rollups だけで作成された場合に表示名を補完\n      playerStats[p.id].name = playerStats[p.id].name === \"Unknown\" ? p.name : playerStats[p.id].name\n      playerStats[p.id].avatarUrl = playerStats[p.id].avatarUrl ?? p.avatarUrl\n    }\n  })\n\n  const unknownIds = Object.values(playerStats)\n    .filter((p) => p.name === \"Unknown\")\n    .map((p) => p.odIndex)\n  if (unknownIds.length > 0) {\n    const { data: unknownProfiles, error: unknownProfilesError } = await supabase\n      .from(\"profiles\")\n      .select(\"id, display_name, avatar_url\")\n      .in(\"id\", unknownIds)\n    if (unknownProfilesError) {\n      // eslint-disable-next-line no-console\n      console.warn(\"[v0] failed to load unknown profiles:\", unknownProfilesError)\n    }\n    unknownProfiles?.forEach((p: any) => {\n      const id = p.id as string | null\n      if (!id || !playerStats[id]) return\n      playerStats[id].name = p.display_name || \"ユーザー\"\n      playerStats[id].avatarUrl = p.avatar_url ?? playerStats[id].avatarUrl\n    })\n  }\n\n  const rankingAll = Object.values(playerStats)\n  const rankingPlayed = rankingAll.filter((p) => p.gameCount > 0).sort((a, b) => b.totalPoints - a.totalPoints)\n  const rankingUnplayed = rankingAll\n    .filter((p) => p.gameCount === 0)\n    .sort((a, b) => a.name.localeCompare(b.name))\n\n  const rankedWithLabels = addRankLabels(rankingPlayed, (player) => player.totalPoints)\n  const fullRanking = [\n    ...rankedWithLabels,\n    ...rankingUnplayed.map((player) => ({ ...player, rankLabel: \"—\" as const })),\n  ]\n  const bestScoreCandidates = Object.values(playerStats)\n    .filter((p) => p.gameCount > 0 && Number.isFinite(p.bestScore))\n    .sort((a, b) => (b.bestScore ?? -Infinity) - (a.bestScore ?? -Infinity))\n  const bestScoreRanking = addRankLabels(bestScoreCandidates, (player) => player.bestScore ?? -Infinity).filter(\n    (player) => player.rankLabel <= 3,\n  )\n  const avoidCandidates = Object.values(playerStats)\n    .filter((p) => p.gameCount > 0)\n    .map((p) => ({\n      ...p,\n      avoidRate: p.gameCount > 0 ? 1 - p.fourthCount / p.gameCount : null,\n    }))\n    .filter((p) => Number.isFinite(p.avoidRate))\n    .sort((a, b) => (b.avoidRate as number) - (a.avoidRate as number))\n  const avoidRanking = addRankLabels(avoidCandidates, (player) => player.avoidRate as number).filter(\n    (player) => player.rankLabel <= 3,\n  )\n\n  const isOwner = league.owner_id === userData.user.id\n  const isMember = memberIds.includes(userData.user.id)\n\n  return (\n    <div className=\"space-y-6 pb-20 md:pb-0\">\n      {/* Header */}\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n        <div className=\"flex items-start gap-3 min-w-0\">\n          <Link href=\"/leagues\">\n            <Button variant=\"ghost\" size=\"icon\">\n              <ArrowLeft className=\"h-5 w-5\" />\n            </Button>\n          </Link>\n          <div className=\"min-w-0\">\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <h1 className=\"text-2xl font-bold text-foreground break-words\">{league.name}</h1>\n              <span className=\"text-xs px-2 py-1 rounded bg-secondary text-secondary-foreground\">\n                {league.game_type === \"four_player\" ? \"四麻\" : \"三麻\"}\n              </span>\n            </div>\n            {league.description && <p className=\"text-muted-foreground text-sm mt-1\">{league.description}</p>}\n          </div>\n        </div>\n        <div className=\"flex w-full flex-wrap items-center gap-2 md:w-auto md:justify-end\">\n          {isOwner && (\n            <Link href={`/leagues/${id}/settings`}>\n              <Button variant=\"outline\" size=\"icon\">\n                <Settings className=\"h-4 w-4\" />\n              </Button>\n            </Link>\n          )}\n          {isOwner && (\n            <LeagueMemberAdd\n              leagueId={id}\n              userId={userData.user.id}\n              existingMemberIds={existingMemberIds}\n            />\n          )}\n          <Link href={`/games/new?league=${id}`}>\n            <Button size=\"sm\" className=\"gap-2 w-full sm:w-auto\">\n              <Plus className=\"h-4 w-4\" />\n              対局を記録\n            </Button>\n          </Link>\n        </div>\n      </div>\n\n      {/* ランキング */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg flex items-center gap-2\">\n            <Trophy className=\"h-5 w-5 text-accent\" />\n            ランキング\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {fullRanking.length > 0 ? (\n            <div className=\"space-y-3\">\n              <p className=\"text-xs text-muted-foreground\">\n                対局履歴は各記録者ごとに直近30戦まで表示されます（成績は全期間）。\n              </p>\n              {fullRanking.map((player, index) => {\n                const rankLabel = (player as any).rankLabel\n                const rankNumber = typeof rankLabel === \"number\" ? rankLabel : null\n                const avgRank = player.gameCount > 0 ? player.rankSum / player.gameCount : null\n                return (\n                  <div\n                    key={player.odIndex}\n                    className={cn(\n                      \"flex items-center justify-between p-3 rounded-lg\",\n                      rankNumber === 1 && \"bg-accent/20\",\n                      rankNumber === 2 && \"bg-secondary/50\",\n                      rankNumber === 3 && \"bg-muted/50\",\n                      (rankNumber === null || rankNumber > 3) && \"border border-border\",\n                    )}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <div\n                          className={cn(\n                            \"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold\",\n                            rankNumber === 1 && \"bg-accent text-accent-foreground\",\n                            rankNumber === 2 && \"bg-secondary text-secondary-foreground\",\n                            rankNumber === 3 && \"bg-muted text-muted-foreground\",\n                            (rankNumber === null || rankNumber > 3) && \"bg-background text-foreground border border-border\",\n                          )}\n                        >\n                          {rankLabel}\n                        </div>\n                        <Avatar className=\"h-9 w-9\">\n                          <AvatarImage src={player.avatarUrl || undefined} />\n                          <AvatarFallback>{player.name.charAt(0).toUpperCase()}</AvatarFallback>\n                        </Avatar>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold\">{player.name}</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {player.gameCount}戦 / 平均{avgRank !== null ? `${avgRank.toFixed(2)}位` : \"-\"}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p\n                        className={cn(\n                          \"font-bold text-lg\",\n                          player.totalPoints >= 0 ? \"text-chart-1\" : \"text-destructive\",\n                        )}\n                      >\n                        {player.totalPoints >= 0 ? \"+\" : \"\"}\n                        {player.totalPoints.toFixed(1)}\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">pt</p>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          ) : (\n            <p className=\"text-muted-foreground text-center py-4\">まだ対局がありません</p>\n          )}\n        </CardContent>\n      </Card>\n\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-lg\">最高スコア TOP3</CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-0 space-y-2\">\n            {bestScoreRanking.length > 0 ? (\n              bestScoreRanking.map((player) => (\n                <div key={player.odIndex} className=\"flex items-center justify-between rounded-lg border border-border/70 px-3 py-2\">\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-sm font-semibold text-muted-foreground\">#{player.rankLabel}</span>\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarImage src={player.avatarUrl || undefined} />\n                      <AvatarFallback>{player.name.charAt(0).toUpperCase()}</AvatarFallback>\n                    </Avatar>\n                    <div>\n                      <p className=\"font-semibold text-sm\">{player.name}</p>\n                      <p className=\"text-xs text-muted-foreground\">{player.gameCount}戦</p>\n                    </div>\n                  </div>\n                  <p className=\"text-base font-bold text-emerald-600\">\n                    {Number.isFinite(player.bestScore) ? `${(player.bestScore as number).toLocaleString()}点` : \"-\"}\n                  </p>\n                </div>\n              ))\n            ) : (\n              <p className=\"text-sm text-muted-foreground\">まだスコアがありません</p>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-lg\">4着回避率 TOP3</CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-0 space-y-2\">\n            {avoidRanking.length > 0 ? (\n              avoidRanking.map((player) => (\n                <div key={player.odIndex} className=\"flex items-center justify-between rounded-lg border border-border/70 px-3 py-2\">\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-sm font-semibold text-muted-foreground\">#{player.rankLabel}</span>\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarImage src={player.avatarUrl || undefined} />\n                      <AvatarFallback>{player.name.charAt(0).toUpperCase()}</AvatarFallback>\n                    </Avatar>\n                    <div>\n                      <p className=\"font-semibold text-sm\">{player.name}</p>\n                      <p className=\"text-xs text-muted-foreground\">{player.gameCount}戦</p>\n                    </div>\n                  </div>\n                  <p className=\"text-base font-bold text-blue-600\">\n                    {Number.isFinite(player.avoidRate) ? `${((player.avoidRate as number) * 100).toFixed(1)}%` : \"-\"}\n                  </p>\n                </div>\n              ))\n            ) : (\n              <p className=\"text-sm text-muted-foreground\">まだ対局がありません</p>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* 対局履歴 */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg\">対局履歴</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {games && games.length > 0 ? (\n            <div className=\"space-y-3\">\n              {games.map((game) => {\n                const sortedResults = [...(game.game_results || [])].sort((a, b) => a.rank - b.rank)\n                return (\n                  <Link key={game.id} href={`/games/${game.id}`} className=\"block\">\n                    <div className=\"p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-sm text-muted-foreground\">\n                          {new Date(game.played_at).toLocaleDateString(\"ja-JP\")}\n                        </span>\n                      </div>\n                      <div className=\"grid grid-cols-4 gap-2\">\n                        {sortedResults.map((result) => (\n                          <div key={result.id} className=\"text-center\">\n                            <div className=\"flex flex-col items-center gap-1\">\n                              <Avatar className=\"h-10 w-10\">\n                                <AvatarImage src={(result.profiles as any)?.avatar_url || undefined} />\n                                <AvatarFallback>\n                                  {(result.player_name || result.profiles?.display_name || \"?\")\n                                    .charAt(0)\n                                    .toUpperCase()}\n                                </AvatarFallback>\n                              </Avatar>\n                              <div className=\"text-xs text-muted-foreground\">{result.rank}位</div>\n                              <div className=\"text-sm font-medium truncate\">\n                                {result.player_name || result.profiles?.display_name || \"Unknown\"}\n                              </div>\n                            </div>\n                            <div\n                              className={cn(\"text-xs\", Number(result.point) >= 0 ? \"text-chart-1\" : \"text-destructive\")}\n                            >\n                              {Number(result.point) >= 0 ? \"+\" : \"\"}\n                              {Number(result.point).toFixed(1)}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </Link>\n                )\n              })}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <p className=\"text-muted-foreground mb-4\">まだ対局がありません</p>\n              <Link href={`/games/new?league=${id}`}>\n                <Button>最初の対局を記録</Button>\n              </Link>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}